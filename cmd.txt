docker run -d --name postgres -v postgres-volume:/var/lib/postgresql/data -e LANG='zh_CN.utf8' -e LC_ALL='zh_CN.utf8' -e POSTGRES_PASSWORD='postgres' -e POSTGRES_INITDB_ARGS='--encoding=UTF-8 --lc-collate=zh_CN.utf8 --lc-ctype=zh_CN.utf8' -p 5432:5432 postgres-zh-vec-rb

docker exec -it postgres psql -U postgres -d postgres

insert into data_sources values ('1', 'default_datasource', 'PostgreSQL', '{ "host": "localhost", "port": "5432", "database": "concise", "username": "postgres", "password": "postgres" }', default, default, 1);

CREATE EXTENSION IF NOT EXISTS roaringbitmap;

select 
  c.relname 表名,
  cast(obj_description(relfilenode,'pg_class') as varchar) 名称,
  a.attname 字段,
  d.description 字段备注,
  concat_ws('',t.typname,SUBSTRING(format_type(a.atttypid,a.atttypmod) from '\(.*\)')) as 列类型 
from 
  pg_class c,
  pg_attribute a,
  pg_type t,
  pg_description d
where 
  a.attnum>0 
  and 
  a.attrelid=c.oid 
  and 
  a.atttypid=t.oid 
  and 
  d.objoid=a.attrelid 
  and 
  d.objsubid=a.attnum
  and 
  c.relname in (
    select 
	tablename 
	from 
	pg_tables 
	where 
	schemaname='public' 
	and 
	position('_2' in tablename)=0
	) 
order by c.relname,a.attnum;

docker exec -it postgres psql -U postgres -d concise

docker cp fixtures postgres:/tmp/

docker exec -it postgres psql -U postgres -d concise -f /tmp/fixtures/dwd_promotion_activity_di_1d.sql
docker exec -it postgres psql -U postgres -d concise -f /tmp/fixtures/dwd_rival_stats_distincted_di_1d.sql
docker exec -it postgres psql -U postgres -d concise -f /tmp/fixtures/dwd_store_common_commodity_di_1d.sql
docker exec -it postgres psql -U postgres -d concise -f /tmp/fixtures/dwd_store_common_commodity_extra_di_1d.sql
docker exec -it postgres psql -U postgres -d concise -f /tmp/fixtures/dwd_store_common_meituan_commodity_category_di_1d.sql
docker exec -it postgres psql -U postgres -d concise -f /tmp/fixtures/dwd_store_common_week_di_1d.sql
docker exec -it postgres psql -U postgres -d concise -f /tmp/fixtures/dwd_store_sales_commodity_availability_di_1d.sql
docker exec -it postgres psql -U postgres -d concise -f /tmp/fixtures/dwd_store_sales_commodity_stats_di_1d.sql